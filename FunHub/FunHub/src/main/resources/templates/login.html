<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      position: relative;
      overflow: hidden;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .particles { position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; overflow:hidden; }
    .particle {
      position: absolute; width: 6px; height: 6px; background: rgba(255,255,255,0.3); border-radius:50%;
      animation: float 20s linear infinite;
    }
    .particle:nth-child(2n) { width:4px; height:4px; background: rgba(255,255,255,0.2); animation-duration:25s; }
    .particle:nth-child(3n) { width:8px; height:8px; background: rgba(255,255,255,0.15); animation-duration:15s; }
    @keyframes float {
      0% { transform: translateY(100vh) rotate(0deg); opacity:0; }
      10% { opacity:1; }
      90% { opacity:1; }
      100% { transform: translateY(-100px) rotate(360deg); opacity:0; }
    }

    .login-container {
      background: rgba(255,255,255,0.95); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.3);
      padding: 50px 45px; border-radius: 25px; box-shadow: 0 25px 50px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.3);
      width: 420px; max-width:90vw; text-align:center; position:relative; z-index:10; transform:translateY(0); transition: all 0.3s ease;
    }

    .login-container::before {
      content: ''; position:absolute; top:0; left:0; right:0; bottom:0;
      background: linear-gradient(135deg, rgba(102,126,234,0.03), rgba(240,147,251,0.03));
      border-radius:25px; pointer-events:none;
    }

    .login-container:hover { transform: translateY(-5px); box-shadow:0 35px 60px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.4); }

    .login-container h2 { margin-bottom:15px; color:#2d3748; font-size:2.2rem; font-weight:700; position:relative; z-index:1; }
    .subtitle { color:#718096; font-size:1rem; font-weight:400; margin-bottom:35px; position:relative; z-index:1; }

    form { position: relative; z-index:1; }
    .input-group { position:relative; margin-bottom:25px; }
    .input-group input[type="email"], .input-group input[type="password"] {
      width:100%; padding:18px 20px 18px 50px; border-radius:15px; border:2px solid #e2e8f0;
      font-size:16px; font-family:inherit; background: rgba(255,255,255,0.9); transition: all 0.3s ease; outline:none; color:#2d3748;
    }
    .input-group input::placeholder { color:#a0aec0; font-weight:400; }
    .input-group input:focus { border-color:#667eea; box-shadow:0 0 0 3px rgba(102,126,234,0.1),0 8px 20px rgba(102,126,234,0.15); background: rgba(255,255,255,1); transform: translateY(-2px); }

    .input-group .email-icon::before { content:'üìß'; position:absolute; left:18px; top:50%; transform:translateY(-50%); font-size:1.1rem; }
    .input-group .password-icon::before { content:'üîí'; position:absolute; left:18px; top:50%; transform:translateY(-50%); font-size:1.1rem; }

    button {
      width:100%; padding:18px; background: linear-gradient(135deg, #667eea, #764ba2); color:#fff;
      font-size:16px; font-weight:600; border:none; border-radius:15px; cursor:pointer; margin-top:15px; transition: all 0.3s ease;
      font-family:inherit; text-transform:uppercase; letter-spacing:0.5px; position:relative; overflow:hidden;
    }
    button::before { content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transition: left 0.5s ease; }
    button:hover::before { left:100%; }
    button:hover { transform: translateY(-3px); box-shadow:0 15px 30px rgba(102,126,234,0.4); }
    button:active { transform: translateY(-1px); }

    a { display:inline-block; margin-top:25px; color:#667eea; text-decoration:none; font-size:15px; font-weight:500; position:relative; z-index:1; transition: all 0.3s ease; }
    a::after { content:''; position:absolute; width:0; height:2px; bottom:-3px; left:50%; background:linear-gradient(135deg,#667eea,#764ba2); transition: all 0.3s ease; transform:translateX(-50%); }
    a:hover::after { width:100%; }
    a:hover { color:#5a67d8; transform: translateY(-2px); }

    .error-message {
      background: linear-gradient(135deg, #fed7d7, #feb2b2);
      color:#c53030; padding:15px 20px; margin-bottom:25px; font-weight:500; border-radius:12px; border:1px solid #fca5a5;
      font-size:14px; position:relative; z-index:1; animation: shake 0.5s ease-in-out;
    }
    @keyframes shake { 0%,100%{transform:translateX(0);} 25%{transform:translateX(-5px);} 75%{transform:translateX(5px);} }
    .error-message::before { content:'‚ö†Ô∏è'; margin-right:8px; }

    .success-message {
      background: linear-gradient(135deg, #c6f6d5, #9ae6b4);
      color: #2f855a; padding:15px 20px; margin-bottom:25px; font-weight:500; border-radius:12px; border:1px solid #68d391; font-size:14px;
      position:relative; z-index:1; text-align:center; animation: successPulse 0.6s ease-out;
    }
    @keyframes successPulse { 0%{transform:scale(1);} 50%{transform:scale(1.05);} 100%{transform:scale(1);} }

    /* Signature Styles */
    .signature {
      position: absolute;
      bottom: 20px;
      right: 30px;
      font-family: 'Poppins', cursive;
      font-size: 14px;
      font-weight: 500;
      color: rgba(255, 255, 255, 0.8);
      background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
      padding: 8px 16px;
      border-radius: 20px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      z-index: 5;
      transition: all 0.3s ease;
      text-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }

    .signature::before {
      content: '‚ú®';
      margin-right: 8px;
      font-size: 12px;
    }

    .signature:hover {
      transform: translateY(-2px) scale(1.05);
      background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.08));
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      color: rgba(255, 255, 255, 0.95);
    }

    @media (max-width: 480px) {
      .signature {
        bottom: 15px;
        right: 20px;
        font-size: 12px;
        padding: 6px 12px;
      }
    }

  </style>
</head>
<body>

<div class="particles" id="particles"></div>

<div class="login-container">
  <h2>üåü Welcome Back</h2>
  <p class="subtitle">Sign in to continue your journey</p>

  <!-- Success message after registration -->
  <div th:if="${param.registered}" class="success-message">
    üéâ Registration successful! Please login.
  </div>

  <!-- Error message -->
  <div th:if="${error}" class="error-message">[[${error}]]</div>

  <!-- Login form -->
  <form th:action="@{/login/add}" method="post">
    <div class="input-group">
      <div class="email-icon"></div>
      <input type="email" name="email" placeholder="Enter your email" required>
    </div>

    <div class="input-group">
      <div class="password-icon"></div>
      <input type="password" name="password" placeholder="Enter your password" required>
    </div>

    <button type="submit">Sign In</button>
  </form>

  <a th:href="@{/register}">Don't have an account? Create one</a>
</div>

<!-- Signature -->
<a href="file:///D:/Personal/Resume_Abhinav_Giri.pdf" target="_blank" class="signature" title="View Abhinav Giri's Resume">Abhinav Giri</a>

<script>
  // Generate floating particles
  function createParticles() {
    const particlesContainer = document.getElementById('particles');
    const particleCount = 50;

    for (let i = 0; i < particleCount; i++) {
      const particle = document.createElement('div');
      particle.className = 'particle';
      particle.style.left = Math.random() * 100 + '%';
      particle.style.animationDelay = Math.random() * 20 + 's';
      particle.style.animationDuration = (15 + Math.random() * 10) + 's';
      particlesContainer.appendChild(particle);
    }
  }

  // Initialize particles when page loads
  document.addEventListener('DOMContentLoaded', createParticles);
</script>

</body>
</html>